<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <title>이벤트 청취 대상</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      .view-toggle button {
        cursor: pointer;
        margin-inline-end: 6px;
        padding: 8px 16px;
        border: 1px solid #ccc;
        background: #fff;

        &.active {
          border-color: #1e88e5;
          background-color: #42a5f5;
          color: white;
        }
      }
    </style>
  </head>

  <body>
    <div role="group" class="view-toggle">
      <button type="button" data-view="list" aria-pressed="false">
        리스트 보기
      </button>
      <button type="button" data-view="grid" aria-pressed="true" class="active">
        그리드 보기
      </button>
      <button type="button" data-view="table" aria-pressed="false">
        테이블 보기
      </button>
      <script>
        // `e.currentTarget`을 사용해 다음 요구사항을 구현합니다.
        // 1. 버튼 중 하나를 클릭하면 활성 상태로 전환하고, 다른 버튼은 비활성 상태로 전환됩니다.
        // 2. 사용자에 의해 선택된 뷰(view)가 무엇인 지, 콘솔 패널에 출력합니다.
        // 3. `aria-pressed` 속성을 사용해 눌려진 버튼 상태를 명시합니다.
        const viewToggle = document.querySelector(".view-toggle");
        const buttons = viewToggle.querySelectorAll("button");
        let currentButton = viewToggle.querySelector(".active");
        buttons.forEach((button) => {
          button.addEventListener("click", (e) => {
            e.currentTarget.classList.add("active");
            e.currentTarget.ariaPressed = "true";
            currentButton.classList.remove("active");
            currentButton.ariaPressed = "false";
            currentButton = e.currentTarget;
            console.log(
              "선택된 뷰:",
              e.currentTarget.getAttribute("data-view")
            );
          });
        });
      </script>
    </div>
  </body>
</html>
